{"version":3,"file":"can-stache-route-helpers.js","sources":["../node_modules/can-stache-route-helpers/can-stache-route-helpers.js"],"sourcesContent":["\"use strict\";\nvar helpers = require('can-stache/helpers/core');\nvar route = require('can-route');\n\nvar stacheExpression = require('can-stache/src/expression');\nvar canReflect = require(\"can-reflect\");\n\nvar looksLikeOptions = helpers.looksLikeOptions;\n\nvar calculateArgs = function(){\n\tvar finalParams,\n\t\tfinalMerge,\n\t\toptionsArg;\n\n\tcanReflect.eachIndex(arguments, function(arg){\n\t\tif(typeof arg === \"boolean\") {\n\t\t\tfinalMerge = arg;\n\t\t} else if( arg && typeof arg === \"object\"  ) {\n\t\t\tif(!looksLikeOptions(arg) ) {\n\t\t\t\tfinalParams = helpers.resolveHash(arg);\n\t\t\t} else {\n\t\t\t\toptionsArg = arg;\n\t\t\t}\n\t\t}\n\t});\n\n\tif(!finalParams && optionsArg) {\n\t\tfinalParams = helpers.resolveHash(optionsArg.hash);\n\t}\n\treturn {\n\t\tfinalParams: finalParams || {},\n\t\tfinalMerge: finalMerge,\n\t\toptionsArg: optionsArg\n\t};\n};\n\n\n// go through arguments ... if there's a boolean ... if there's a plain object\nhelpers.registerHelper('routeUrl',function(){\n\tvar args = calculateArgs.apply(this, arguments);\n\n\treturn route.url(args.finalParams, typeof args.finalMerge === \"boolean\" ? args.finalMerge : undefined);\n\n});\n\nvar routeCurrent = function(){\n\n\tvar args = calculateArgs.apply(this, arguments);\n\tvar result = route.isCurrent( args.finalParams, typeof args.finalMerge === \"boolean\" ? args.finalMerge : undefined );\n\n\tif( args.optionsArg && !(args.optionsArg instanceof stacheExpression.Call) ) {\n\t\tif( result ) {\n\t\t\treturn args.optionsArg.fn();\n\t\t} else {\n\t\t\treturn args.optionsArg.inverse();\n\t\t}\n\t} else {\n\t\treturn result;\n\t}\n};\nrouteCurrent.callAsMethod = true;\n\nhelpers.registerHelper('routeCurrent', routeCurrent);\n"],"names":["looksLikeOptions","helpers","calculateArgs","finalParams","finalMerge","optionsArg","canReflect","eachIndex","arguments","arg","resolveHash","hash","registerHelper","args","apply","this","route","url","undefined","routeCurrent","result","isCurrent","stacheExpression","Call","fn","inverse","callAsMethod"],"mappings":"43EAOA,IAAIA,iBAAmBC,QAAQD,iBAE3BE,cAAgB,WACnB,IAAIC,EACHC,EACAC,EAiBD,OAfAC,WAAWC,UAAUC,UAAW,SAASC,GACtB,kBAARA,EACTL,EAAaK,EACHA,GAAsB,iBAARA,IACpBT,iBAAiBS,GAGpBJ,EAAaI,EAFbN,EAAcF,QAAQS,YAAYD,OAOjCN,GAAeE,IAClBF,EAAcF,QAAQS,YAAYL,EAAWM,OAEvC,CACNR,YAAaA,GAAe,GAC5BC,WAAYA,EACZC,WAAYA,IAMdJ,QAAQW,eAAe,WAAW,WACjC,IAAIC,EAAOX,cAAcY,MAAMC,KAAMP,WAErC,OAAOQ,MAAMC,IAAIJ,EAAKV,YAAwC,kBAApBU,EAAKT,WAA2BS,EAAKT,gBAAac,KAI7F,IAAIC,aAAe,WAElB,IAAIN,EAAOX,cAAcY,MAAMC,KAAMP,WACjCY,EAASJ,MAAMK,UAAWR,EAAKV,YAAwC,kBAApBU,EAAKT,WAA2BS,EAAKT,gBAAac,GAEzG,OAAIL,EAAKR,YAAgBQ,EAAKR,sBAAsBiB,WAAiBC,KAO7DH,EANHA,EACIP,EAAKR,WAAWmB,KAEhBX,EAAKR,WAAWoB,WAM1BN,aAAaO,cAAe,EAE5BzB,QAAQW,eAAe,eAAgBO"}