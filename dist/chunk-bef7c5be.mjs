import{a as process$1}from"./chunk-bacf0c54.mjs";import{a as Construct}from"./chunk-a97d251a.mjs";import"./chunk-f8a6947c.mjs";import"./chunk-862b179d.mjs";import"./chunk-fa6b878a.mjs";import"./chunk-5f1245ff.mjs";import{a as dev}from"./chunk-585d4076.mjs";import{a as canSymbol}from"./chunk-b37d91a1.mjs";import{a as mapEventBindings}from"./chunk-910f3205.mjs";import{a as queues}from"./chunk-12ed728f.mjs";import{a as ObservationRecorder}from"./chunk-8811d387.mjs";import{a as canReflect}from"./chunk-7e0220de.mjs";var ensureMeta=function(e){var t=canSymbol.for("can.meta"),a=e[t];return a||(a={},canReflect.setKeyValue(e,t,a)),a},SimpleMap=Construct.extend("SimpleMap",{setup:function(e){this._data={},e&&"object"==typeof e&&this.attr(e)},attr:function(e,t){var a=this;if(0===arguments.length){ObservationRecorder.add(this,"can.keys");var n={};return canReflect.eachKey(this._data,function(e,t){ObservationRecorder.add(this,t),n[t]=e},this),n}if(arguments.length>1){var s=this._data.hasOwnProperty(e),o=this._data[e];if(this._data[e]=t,o!==t){"production"!==process$1.env.NODE_ENV&&"function"==typeof this._log&&this._log(e,t,o);var i={keyChanged:s?void 0:e,type:e};"production"!==process$1.env.NODE_ENV&&(i={keyChanged:s?void 0:e,type:e,reasonLog:[canReflect.getName(this)+"'s",e,"changed to",t,"from",o]}),this.dispatch(i,[t,o])}}else{if("object"!=typeof e)return"constructor"!==e?(ObservationRecorder.add(this,e),this._data[e]):this.constructor;queues.batch.start(),canReflect.eachKey(e,function(e,t){a.attr(t,e)}),queues.batch.stop()}},serialize:function(){return canReflect.serialize(this,Map)},get:function(){return this.attr.apply(this,arguments)},set:function(){return this.attr.apply(this,arguments)},log:function(e){if("production"!==process$1.env.NODE_ENV)var t=function(e){return"string"==typeof e?JSON.stringify(e):e};var a=ensureMeta(this);a.allowedLogKeysSet=a.allowedLogKeysSet||new Set,e&&a.allowedLogKeysSet.add(e),this._log=function(n,s,o,i){e&&!a.allowedLogKeysSet.has(n)||dev.log(canReflect.getName(this),"\n key ",t(n),"\n is  ",t(s),"\n was ",t(o))}}});mapEventBindings(SimpleMap.prototype);var canSimpleMap,simpleMapProto={"can.isMapLike":!0,"can.isListLike":!1,"can.isValueLike":!1,"can.getKeyValue":SimpleMap.prototype.get,"can.setKeyValue":SimpleMap.prototype.set,"can.deleteKeyValue":function(e){var t;if(this._data.hasOwnProperty(e)){var a=this._data[e];delete this._data[e],"production"!==process$1.env.NODE_ENV&&"function"==typeof this._log&&this._log(e,void 0,a),t={keyChanged:e,type:e},"production"!==process$1.env.NODE_ENV&&(t={keyChanged:e,type:e,reasonLog:[canReflect.getName(this)+"'s",e,"deleted",a]}),this.dispatch(t,[void 0,a])}},"can.getOwnEnumerableKeys":function(){return ObservationRecorder.add(this,"can.keys"),Object.keys(this._data)},"can.assignDeep":function(e){queues.batch.start(),canReflect.assignMap(this,e),queues.batch.stop()},"can.updateDeep":function(e){queues.batch.start(),canReflect.updateMap(this,e),queues.batch.stop()},"can.keyHasDependencies":function(e){return!1},"can.getKeyDependencies":function(e){},"can.hasOwnKey":function(e){return this._data.hasOwnProperty(e)}};"production"!==process$1.env.NODE_ENV&&(simpleMapProto["can.getName"]=function(){return canReflect.getName(this.constructor)+"{}"}),canReflect.assignSymbols(SimpleMap.prototype,simpleMapProto);export{SimpleMap as a,SimpleMap as b};
//# sourceMappingURL=chunk-bef7c5be.js.map
