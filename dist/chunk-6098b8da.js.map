{"version":3,"file":"chunk-6098b8da.js","sources":["../node_modules/can-validate/can-validate.js"],"sourcesContent":["\"use strict\";\nvar canReflect = require('can-reflect');\n\nvar validate = {};\n\nvar helpers = {\n\t'object': function (normalizedErrors) {\n\t\tvar errors = normalizedErrors.length > 0 ? {}: undefined;\n\n\t\tcanReflect.eachIndex(normalizedErrors, function (error) {\n\t\t\tcanReflect.eachIndex(error.related, function (related) {\n\t\t\t\tif (!errors[related]) {\n\t\t\t\t\terrors[related] = [];\n\t\t\t\t}\n\t\t\t\terrors[related].push(error.message);\n\t\t\t});\n\t\t});\n\t\treturn errors;\n\t},\n\t'flat': function (normalizedErrors) {\n\t\tvar errors = normalizedErrors.length > 0 ? []: undefined;\n\t\tcanReflect.eachIndex(normalizedErrors, function (error) {\n\t\t\terrors.push(error.message);\n\t\t});\n\t\treturn errors;\n\t},\n\t'errors': function (normalizedErrors) {\n\t\treturn normalizedErrors.length > 0 ? normalizedErrors: undefined;\n\t},\n\t'errors-object': function (normalizedErrors) {\n\t\tvar errors = normalizedErrors.length > 0 ? {}: undefined;\n\t\tcanReflect.eachIndex(normalizedErrors, function (error) {\n\t\t\tcanReflect.eachIndex(error.related, function (related) {\n\t\t\t\tif (!errors[related]) {\n\t\t\t\t\terrors[related] = [];\n\t\t\t\t}\n\t\t\t\terrors[related].push(error);\n\t\t\t});\n\t\t});\n\t\treturn errors;\n\t}\n};\n\nvar parseErrorItem = function (rawErrors) {\n\tvar errors = [];\n\tif (typeof rawErrors === 'string') {\n\t\terrors.push({message: rawErrors, related: ['*']});\n\t}\n\tif (typeof rawErrors === 'object' && !Array.isArray(rawErrors)) {\n\t\t// Although related can be a string, internally, it is easier if it is\n\t\t// always an array\n\t\tif (rawErrors.related) {\n\t\t\tif (!Array.isArray(rawErrors.related)) {\n\t\t\t\trawErrors.related = [rawErrors.related];\n\t\t\t}\n\t\t} else {\n\t\t\trawErrors.related = '*';\n\t\t}\n\t\terrors.push(rawErrors);\n\t}\n\tif (Array.isArray(rawErrors)) {\n\t\tcanReflect.eachIndex(rawErrors, function (error) {\n\t\t\t[].push.apply(errors, parseErrorItem(error));\n\t\t});\n\t}\n\treturn errors;\n};\n\n// Takes errors and normalizes them\nvar normalizeErrors = function (rawErrors) {\n\tvar normalizedErrors = [];\n  if (\n    typeof rawErrors === 'string' ||\n    (typeof rawErrors === 'object' && !Array.isArray(rawErrors))\n  ) {\n\t\t// Only one error set, which we can assume was for a single property\n\t\trawErrors = [rawErrors];\n\t}\n\n  if (rawErrors != null) {\n    canReflect.eachIndex(rawErrors, function (error) {\n      [].push.apply(normalizedErrors, parseErrorItem(error));\n    });\n  }\n\n\treturn normalizedErrors;\n};\n\nvalidate.formatErrors = function (errors, format) {\n\tvar normalized = normalizeErrors(errors);\n\tif (format) {\n\t\tif (helpers[format]) {\n\t\t\treturn helpers[format](normalized);\n\t\t} else {\n\t\t\treturn normalized;\n\t\t}\n\t} else {\n\t\treturn normalized;\n\t}\n};\n\nmodule.exports = validate;\n"],"names":["validate","helpers","object","normalizedErrors","errors","length","undefined","canReflect","eachIndex","error","related","push","message","flat","errors-object","parseErrorItem","rawErrors","Array","isArray","apply","normalizeErrors","formatErrors","format","normalized"],"mappings":"6EAGA,gBAAIA,SAAW,GAEXC,QAAU,CACbC,OAAU,SAAUC,GACnB,IAAIC,EAASD,EAAiBE,OAAS,EAAI,QAAIC,EAU/C,OARAC,WAAWC,UAAUL,EAAkB,SAAUM,GAChDF,WAAWC,UAAUC,EAAMC,QAAS,SAAUA,GACxCN,EAAOM,KACXN,EAAOM,GAAW,IAEnBN,EAAOM,GAASC,KAAKF,EAAMG,aAGtBR,GAERS,KAAQ,SAAUV,GACjB,IAAIC,EAASD,EAAiBE,OAAS,EAAI,QAAIC,EAI/C,OAHAC,WAAWC,UAAUL,EAAkB,SAAUM,GAChDL,EAAOO,KAAKF,EAAMG,WAEZR,GAERA,OAAU,SAAUD,GACnB,OAAOA,EAAiBE,OAAS,EAAIF,OAAkBG,GAExDQ,gBAAiB,SAAUX,GAC1B,IAAIC,EAASD,EAAiBE,OAAS,EAAI,QAAIC,EAS/C,OARAC,WAAWC,UAAUL,EAAkB,SAAUM,GAChDF,WAAWC,UAAUC,EAAMC,QAAS,SAAUA,GACxCN,EAAOM,KACXN,EAAOM,GAAW,IAEnBN,EAAOM,GAASC,KAAKF,OAGhBL,IAILW,eAAiB,SAAUC,GAC9B,IAAIZ,EAAS,GAqBb,MApByB,iBAAdY,GACVZ,EAAOO,KAAK,CAACC,QAASI,EAAWN,QAAS,CAAC,OAEnB,iBAAdM,GAA2BC,MAAMC,QAAQF,KAG/CA,EAAUN,QACRO,MAAMC,QAAQF,EAAUN,WAC5BM,EAAUN,QAAU,CAACM,EAAUN,UAGhCM,EAAUN,QAAU,IAErBN,EAAOO,KAAKK,IAETC,MAAMC,QAAQF,IACjBT,WAAWC,UAAUQ,EAAW,SAAUP,GACzC,GAAGE,KAAKQ,MAAMf,EAAQW,eAAeN,MAGhCL,GAIJgB,gBAAkB,SAAUJ,GAC/B,IAAIb,EAAmB,GAevB,OAbwB,iBAAda,GACe,iBAAdA,IAA2BC,MAAMC,QAAQF,MAGnDA,EAAY,CAACA,IAGI,MAAbA,GACFT,WAAWC,UAAUQ,EAAW,SAAUP,GACxC,GAAGE,KAAKQ,MAAMhB,EAAkBY,eAAeN,MAI7CN,GAGRH,SAASqB,aAAe,SAAUjB,EAAQkB,GACzC,IAAIC,EAAaH,gBAAgBhB,GACjC,OAAIkB,GACCrB,QAAQqB,GACJrB,QAAQqB,GAAQC,GAKjBA,UAIQvB,cAAAA"}