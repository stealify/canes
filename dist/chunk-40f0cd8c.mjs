import{a as process$1}from"./chunk-bacf0c54.mjs";import"./chunk-805ffcb4.mjs";import{a as dev}from"./chunk-585d4076.mjs";import"./chunk-faffd3b3.mjs";import{a as namespace}from"./chunk-3b4c7b38.mjs";import{a as encoder}from"./chunk-8faf33f1.mjs";function each(e,t){for(var a=0;a<e.length;a++)t(e[a],a)}function makeMap(e){var t={};return each(e.split(","),function(e){t[e]=!0}),t}function handleIntermediate(e,t){for(var a=0,r=e.length;a<r;a++){var n=e[a];t[n.tokenType].apply(t,n.args)}return e}if("production"!==process$1.env.NODE_ENV)var countLines=function(e){return e.split("\n").length-1};var alphaNumeric="A-Za-z0-9",alphaNumericHU="-:_"+alphaNumeric,magicStart="{{",endTag=new RegExp("^<\\/(["+alphaNumericHU+"]+)[^>]*>"),magicMatch=new RegExp("\\{\\{(![\\s\\S]*?!|[\\s\\S]*?)\\}\\}\\}?","g"),space=/\s/,alphaRegex=new RegExp("["+alphaNumeric+"]"),attributeRegexp=new RegExp("["+alphaNumericHU+"]+s*=s*(\"[^\"]*\"|'[^']*')"),empty=makeMap("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),caseMattersElements=makeMap("altGlyph,altGlyphDef,altGlyphItem,animateColor,animateMotion,animateTransform,clipPath,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,foreignObject,glyphRef,linearGradient,radialGradient,textPath"),closeSelf=makeMap("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),special=makeMap("script"),tokenTypes="start,end,close,attrStart,attrEnd,attrValue,chars,comment,special,done".split(","),startOppositesMap={"{":"}","(":")"},fn=function(){},HTMLParser=function(e,t,a){if("object"==typeof e)return handleIntermediate(e,t);var r=[];function n(e,a,r,n){a=caseMattersElements[a]?a:a.toLowerCase(),closeSelf[a]&&p.last()===a&&i("",a),n=empty[a]||!!n,t.start(a,n,u),n||p.push(a),HTMLParser.parseAttrs(r,t,u),"production"!==process$1.env.NODE_ENV&&(u+=countLines(e)),t.end(a,n,u)}function i(e,a){var r;if(a)for(a=caseMattersElements[a]?a:a.toLowerCase(),r=p.length-1;r>=0&&p[r]!==a;r--);else r=0;if("production"!==process$1.env.NODE_ENV&&(void 0===e?p.length>0&&(t.filename?dev.warn(t.filename+": expected closing tag </"+p[r]+">"):dev.warn("expected closing tag </"+p[r]+">")):(r<0||r!==p.length-1)&&(p.length>0?t.filename?dev.warn(t.filename+":"+u+": unexpected closing tag "+e+" expected </"+p[p.length-1]+">"):dev.warn(u+": unexpected closing tag "+e+" expected </"+p[p.length-1]+">"):t.filename?dev.warn(t.filename+":"+u+": unexpected closing tag "+e):dev.warn(u+": unexpected closing tag "+e))),r>=0){for(var n=p.length-1;n>=r;n--)t.close&&t.close(p[n],u);p.length=r}}function s(e,a){t.special&&t.special(a,u)}t=t||{},a&&each(tokenTypes,function(e){var a=t[e]||fn;t[e]=function(){if(!1!==a.apply(this,arguments)){var t=arguments.length;void 0===arguments[t-1]&&(t=arguments.length-1),"production"!==process$1.env.NODE_ENV&&(t=arguments.length),r.push({tokenType:e,args:[].slice.call(arguments,0,t)})}}});var o,l,c,u,g=function(){m&&(t.chars&&t.chars(m,u),"production"!==process$1.env.NODE_ENV&&(u+=countLines(m))),m=""},p=[],f=e,m="";for("production"!==process$1.env.NODE_ENV&&(u=1),p.last=function(){return this[this.length-1]};e;){if(l=!0,p.last()&&special[p.last()])e=e.replace(new RegExp("([\\s\\S]*?)</"+p.last()+"[^>]*>"),function(e,a){return a=a.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2"),t.chars&&t.chars(a,u),"production"!==process$1.env.NODE_ENV&&(u+=countLines(a)),""}),i("",p.last());else{if(0===e.indexOf("\x3c!--"))(o=e.indexOf("--\x3e"))>=0&&(g(),t.comment&&t.comment(e.substring(4,o),u),"production"!==process$1.env.NODE_ENV&&(u+=countLines(e.substring(0,o+3))),e=e.substring(o+3),l=!1);else if(0===e.indexOf("</"))(c=e.match(endTag))&&(g(),c[0].replace(endTag,i),"production"!==process$1.env.NODE_ENV&&(u+=countLines(e.substring(0,c[0].length))),e=e.substring(c[0].length),l=!1);else if(0===e.indexOf("<")){var h=HTMLParser.searchStartTag(e);h&&(g(),n.apply(null,h.match),e=h.html,l=!1)}else 0===e.indexOf(magicStart)&&(c=e.match(magicMatch))&&(g(),c[0].replace(magicMatch,s),"production"!==process$1.env.NODE_ENV&&(u+=countLines(e.substring(0,c[0].length))),e=e.substring(c[0].length));if(l){0===(o=findBreak(e,magicStart))&&e===f&&(m+=e.charAt(0),e=e.substr(1),o=findBreak(e,magicStart));var d=o<0?e:e.substring(0,o);e=o<0?"":e.substring(o),d&&(m+=d)}}if(e===f)throw new Error("Parse Error: "+e);f=e}return g(),i(),t.done(u),r},callAttrStart=function(e,t,a,r,n){var i=r.substring("number"==typeof e.nameStart?e.nameStart:t,t),s=encoder.encode(i);e.attrStart=s,a.attrStart(e.attrStart,n),e.inName=!1},callAttrEnd=function(e,t,a,r,n){if(void 0!==e.valueStart&&e.valueStart<t){var i,s,o=r.substring(e.valueStart,t);if("production"!==process$1.env.NODE_ENV)s=(i=(i=r.substring(e.valueStart-1,t+1)).trim()).charAt(i.length-1),e.inQuote!==s&&(a.filename?dev.warn(a.filename+":"+n+": End quote is missing for "+o):dev.warn(n+": End quote is missing for "+o));a.attrValue(o,n)}a.attrEnd(e.attrStart,n),e.attrStart=void 0,e.valueStart=void 0,e.inValue=!1,e.inName=!1,e.lookingForEq=!1,e.inQuote=!1,e.lookingForName=!0},findBreak=function(e,t){for(var a=t.length,r=0,n=e.length;r<n;r++)if("<"===e[r]||e.substr(r,a)===t)return r;return-1};HTMLParser.parseAttrs=function(e,t,a){if(e){for(var r,n=0,i={inName:!1,nameStart:void 0,inValue:!1,valueStart:void 0,inQuote:!1,attrStart:void 0,lookingForName:!0,lookingForValue:!1,lookingForEq:!1};n<e.length;){r=n;var s=e.charAt(n);if(n++,magicStart===e.substr(r,magicStart.length)){i.inValue&&r>i.valueStart?t.attrValue(e.substring(i.valueStart,r),a):i.inName&&i.nameStart<r?(callAttrStart(i,r,t,e,a),callAttrEnd(i,r,t,e,a)):i.lookingForValue?i.inValue=!0:i.lookingForEq&&i.attrStart&&callAttrEnd(i,r,t,e,a),magicMatch.lastIndex=r;var o=magicMatch.exec(e);o&&(t.special(o[1],a),n=r+o[0].length,i.inValue&&(i.valueStart=r+o[0].length))}else if(i.inValue)i.inQuote?s===i.inQuote&&callAttrEnd(i,r,t,e,a):space.test(s)&&callAttrEnd(i,r,t,e,a);else if("="===s&&(i.lookingForEq||i.lookingForName||i.inName))i.attrStart||callAttrStart(i,r,t,e,a),i.lookingForValue=!0,i.lookingForEq=!1,i.lookingForName=!1;else if(i.inName){var l,c=e[i.nameStart];startOppositesMap[c]===s?(l=startOppositesMap["{"===c?"(":"{"],e[r+1]===l?(callAttrStart(i,r+2,t,e,a),n++):callAttrStart(i,r+1,t,e,a),i.lookingForEq=!0):space.test(s)&&"{"!==c&&"("!==c&&(callAttrStart(i,r,t,e,a),i.lookingForEq=!0)}else i.lookingForName?space.test(s)||(i.attrStart&&callAttrEnd(i,r,t,e,a),i.nameStart=r,i.inName=!0):i.lookingForValue&&(space.test(s)?n===e.length&&callAttrEnd(i,r,t,e,a):(i.lookingForValue=!1,i.inValue=!0,"'"===s||'"'===s?(i.inQuote=s,i.valueStart=r+1):i.valueStart=r))}i.inName?(callAttrStart(i,r+1,t,e,a),callAttrEnd(i,r+1,t,e,a)):(i.lookingForEq||i.lookingForValue||i.inValue)&&callAttrEnd(i,r+1,t,e,a),magicMatch.lastIndex=0}},HTMLParser.searchStartTag=function(e){for(var t=e.indexOf(">"),a=attributeRegexp.exec(e.substring(1)),r=1;a&&t>=r+a.index;){for(r+=a.index+a[0].length;t<r;)t+=e.substring(t+1).indexOf(">")+1;a=attributeRegexp.exec(e.substring(r))}if(-1===t||!alphaRegex.test(e[1]))return null;var n,i,s="",o="",l=e.substring(0,t+1),c="/"===l[l.length-2],u=l.search(space);return c?(o="/",i=l.substring(1,l.length-2).trim()):i=l.substring(1,l.length-1).trim(),-1===u?n=i:(u--,n=i.substring(0,u),s=i.substring(u)),{match:[l,n,s,o],html:e.substring(l.length)}};var canViewParser=namespace.HTMLParser=HTMLParser;export{canViewParser as a,canViewParser as b};
//# sourceMappingURL=chunk-40f0cd8c.js.map
