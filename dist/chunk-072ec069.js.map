{"version":3,"file":"chunk-072ec069.js","sources":["../node_modules/can-single-reference/can-single-reference.js"],"sourcesContent":["\"use strict\";\nvar CID = require(\"can-cid\");\n\nvar singleReference;\n\nfunction getKeyName(key, extraKey) {\n\tvar keyName = extraKey ? CID(key) + \":\" + extraKey : CID(key);\n\treturn keyName || key;\n}\n\n// weak maps are slow\n/* if(typeof WeakMap !== \"undefined\") {\n\tvar globalMap = new WeakMap();\n\tsingleReference = {\n\t\tset: function(obj, key, value){\n\t\t\tvar localMap = globalMap.get(obj);\n\t\t\tif( !localMap ) {\n\t\t\t\tglobalMap.set(obj, localMap = new WeakMap());\n\t\t\t}\n\t\t\tlocalMap.set(key, value);\n\t\t},\n\t\tgetAndDelete: function(obj, key){\n\t\t\treturn globalMap.get(obj).get(key);\n\t\t},\n\t\treferences: globalMap\n\t};\n} else {*/\nsingleReference = {\n    // obj is a function ... we need to place `value` on it so we can retreive it\n    // we can't use a global map\n    set: function(obj, key, value, extraKey){\n        // check if it has a single reference map\n        obj[getKeyName(key, extraKey)] = value;\n    },\n\n    getAndDelete: function(obj, key, extraKey){\n        var keyName = getKeyName(key, extraKey);\n        var value = obj[keyName];\n        delete obj[keyName];\n        return value;\n    }\n};\n/*}*/\n\nmodule.exports = singleReference;\n"],"names":["singleReference","getKeyName","key","extraKey","CID","set","obj","value","getAndDelete","keyName"],"mappings":"sEAGA,IAAIA,gBAEJ,SAASC,WAAWC,EAAKC,GAExB,OADcA,EAAWC,IAAIF,GAAO,IAAMC,EAAWC,IAAIF,KACvCA,EAqCnB,uBAjBAF,gBAAkB,CAGdK,IAAK,SAASC,EAAKJ,EAAKK,EAAOJ,GAE3BG,EAAIL,WAAWC,EAAKC,IAAaI,GAGrCC,aAAc,SAASF,EAAKJ,EAAKC,GAC7B,IAAIM,EAAUR,WAAWC,EAAKC,GAC1BI,EAAQD,EAAIG,GAEhB,cADOH,EAAIG,GACJF"}