import{b as canViewLive}from"./chunk-0d409e0a.mjs";import{a as process$1}from"./chunk-bacf0c54.mjs";import{b as globals}from"./chunk-cc1f8896.mjs";import"./chunk-14877182.mjs";import"./chunk-805ffcb4.mjs";import"./chunk-17b31772.mjs";import{a as namespace}from"./chunk-3b4c7b38.mjs";import{a as parseURI}from"./chunk-ac75a622.mjs";import{a as canLog}from"./chunk-a661b1ce.mjs";import"./chunk-5f1245ff.mjs";import{a as canSymbol}from"./chunk-b37d91a1.mjs";import{a as canReflect}from"./chunk-7e0220de.mjs";import"./chunk-7dfeb1df.mjs";import{a as Observation}from"./chunk-c1d5d21e.mjs";import{a as commonjsGlobal,b as commonjsRequire,c as unwrapExports,d as createCommonjsModule}from"./chunk-eae5b219.mjs";import{d as stacheHelpers}from"./chunk-ea559428.mjs";import"./chunk-152c0627.mjs";import{d as expression,f as KeyObservable,c as utils}from"./chunk-615ab838.mjs";import{a as nodeLists}from"./chunk-fd5b3ff3.mjs";import"./chunk-bd824939.mjs";import{a as dev}from"./chunk-585d4076.mjs";import{b as setData}from"./chunk-c1a50ad2.mjs";import{a as assign}from"./chunk-75bea8d8.mjs";globals.define("base-url",function(){var e=globals.getKeyValue("global"),r=globals.getKeyValue("document");if(r&&"baseURI"in r)return r.baseURI;if(e.location){var n=e.location.href,t=n.lastIndexOf("/");return-1!==t?n.substr(0,t):n}return void 0!==process$1?process$1.cwd():void 0});var baseUrl=globals.makeExport("base-url"),canJoinUris=namespace.joinURIs=function(e,r){return r=parseURI(r||""),e=parseURI(e||""),r&&e?(r.protocol||e.protocol)+(r.protocol||r.authority?r.authority:e.authority)+(n=r.protocol||r.authority||"/"===r.pathname.charAt(0)?r.pathname:r.pathname?(e.authority&&!e.pathname?"/":"")+e.pathname.slice(0,e.pathname.lastIndexOf("/")+1)+r.pathname:e.pathname,t=[],n.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(e){"/.."===e?t.pop():t.push(e)}),t.join("").replace(/^\//,"/"===n.charAt(0)?"/":""))+(r.protocol||r.authority||r.pathname?r.search:r.search||e.search)+r.hash:null;var n,t};function noop(){}var resolveValue=noop,evaluateArgs=noop,__testing={};if("production"!==process$1.env.NODE_ENV){var canReflect$1=canReflect,canSymbol$1=canSymbol;__testing={allowDebugger:!0},resolveValue=function(e){return e&&e[canSymbol$1.for("can.getValue")]?canReflect$1.getValue(e):e},evaluateArgs=function(e,r){switch(arguments.length){case 0:return!0;case 1:return!!resolveValue(e);case 2:return resolveValue(e)===resolveValue(r);default:throw canLog.log(["Usage:","  {{debugger}}: break any time this helper is evaluated","  {{debugger condition}}: break when `condition` is truthy","  {{debugger left right}}: break when `left` === `right`"].join("\n")),new Error("{{debugger}} must have less than three arguments")}}}function debuggerHelper(e,r){if("production"!==process$1.env.NODE_ENV){if(!evaluateArgs.apply(null,Array.prototype.slice.call(arguments,0,-1)))return;if(canLog.log("Use `get(<path>)` to debug this template"),__testing.allowDebugger)return}canLog.warn("Forgotten {{debugger}} helper")}debuggerHelper.requiresOptionsArgument=!0;var Debugger={helper:debuggerHelper,evaluateArgs:evaluateArgs,resolveValue:resolveValue,__testing:__testing},truthyObservable=function(e){return new Observation(function(){return!!canReflect.getValue(e)})},canDomData=createCommonjsModule(function(e){var r=new WeakMap,n=function(e){var n=!1;return r.has(e)&&(n=!0,r.delete(e)),n},t={_data:r,get:function(e,n){var t=r.get(e);return void 0===n?t:t&&t[n]},set:function(e,n,t){var a=r.get(e);return void 0===a&&(a={},r.set(e,a)),void 0!==n&&(a[n]=t),a},clean:function(e,t){var a=r.get(e);a&&a[t]&&delete a[t],function(e){for(var r in e)return!1;return!0}(a)&&n(e)},delete:n};if(namespace.domData)throw new Error("You can't have two versions of can-dom-data, check your dependencies");e.exports=namespace.domData=t}),bindAndRead=function(e){return e&&canReflect.isValueLike(e)?(Observation.temporarilyBind(e),canReflect.getValue(e)):e};function forOfObject(e,r,n){var t=[];return canReflect.each(e,function(a,o){var s=new KeyObservable(e,o),i={};void 0!==r&&(i[r]=s),t.push(n.fn(n.scope.add({key:o},{special:!0}).addLetContext(i)))}),n.stringOnly?t.join(""):t}var forHelper=function(e){if(1!==e.exprData.argExprs.length)throw new Error("for(of) broken syntax");var r,n,t=e.exprData.argExprs[0].expr;if(t instanceof expression.Lookup)n=t.value(e.scope);else if(t instanceof expression.Helper){if("of"!==t.argExprs[0].key)throw new Error("for(of) broken syntax");r=t.methodExpr.key,n=t.argExprs[1].value(e.scope)}var a=n,o=[].slice.call(arguments).pop(),s=bindAndRead(a);if(s&&!canReflect.isListLike(s))return forOfObject(s,r,e);if(o.stringOnly){var i=[];return canReflect.eachIndex(s,function(n,t){var a={};void 0!==r&&(a[r]=n),i.push(e.fn(o.scope.add({index:t},{special:!0}).addLetContext(a)))}),i.join("")}return o.metadata.rendered=!0,function(e){var n=[e];n.expression="live.list",nodeLists.register(n,null,o.nodeList,!0),nodeLists.update(o.nodeList,[e]);canViewLive.list(e,a,function(e,n,t){var a={};return void 0!==r&&(a[r]=e),o.fn(o.scope.add({index:n},{special:!0}).addLetContext(a),o.options,t)},o.context,e.parentNode,n,function(e,r){return o.inverse(o.scope.add(e),o.options,r)})}};function isVariable(e){return!0===e._meta.variable}forHelper.isLiveBound=!0,forHelper.requiresOptionsArgument=!0,forHelper.ignoreArgLookup=function(e){return 0===e},stacheHelpers.for=forHelper,stacheHelpers.let=function(e){var r=e.scope.getScope(isVariable);if(!r)throw new Error("There is no variable scope!");return canReflect.assignMap(r._context,e.hash),document.createTextNode("")};var debuggerHelper$1=Debugger.helper,builtInHelpers={},helpersCore={looksLikeOptions:function(e){return e&&"function"==typeof e.fn&&"function"==typeof e.inverse},resolve:function(e){return e&&canReflect.isValueLike(e)?canReflect.getValue(e):e},resolveHash:function(e){var r={};for(var n in e)r[n]=helpersCore.resolve(e[n]);return r},bindAndRead:function(e){return e&&canReflect.isValueLike(e)?(Observation.temporarilyBind(e),canReflect.getValue(e)):e},registerHelper:function(e,r){"production"!==process$1.env.NODE_ENV&&stacheHelpers[e]&&dev.warn("The helper "+e+" has already been registered."),r.requiresOptionsArgument=!0,stacheHelpers[e]=r},registerHelpers:function(e){var r,n;for(r in e)n=e[r],helpersCore.registerHelper(r,helpersCore.makeSimpleHelper(n))},makeSimpleHelper:function(e){return function(){var r=[];return canReflect.eachIndex(arguments,function(e){for(;e&&e.isComputed;)e=e();r.push(e)}),e.apply(this,r)}},addHelper:function(e,r){return"object"==typeof e?helpersCore.registerHelpers(e):helpersCore.registerHelper(e,helpersCore.makeSimpleHelper(r))},addLiveHelper:function(e,r){return r.isLiveBound=!0,helpersCore.registerHelper(e,r)},getHelper:function(e,r){var n=r&&r.getHelper(e);return n||(n=stacheHelpers[e]),n},__resetHelpers:function(){for(var e in stacheHelpers)delete stacheHelpers[e];helpersCore.addBuiltInHelpers()},addBuiltInHelpers:function(){canReflect.each(builtInHelpers,function(e,r){stacheHelpers[r]=e})},_makeLogicHelper:function(e,r){var n=assign(function(){var n,t=Array.prototype.slice.call(arguments,0);function a(){return n?!!r(t):r(t)}helpersCore.looksLikeOptions(t[t.length-1])&&(n=t.pop()),"production"!==process$1.env.NODE_ENV&&Object.defineProperty(a,"name",{value:e+"("+t.map(function(e){return canReflect.getName(e)}).join(",")+")",configurable:!0});var o=new Observation(a);return n?o.get()?n.fn():n.inverse():o.get()},{requiresOptionsArgument:!0,isLiveBound:!0});return"production"!==process$1.env.NODE_ENV&&Object.defineProperty(n,"name",{value:e,configurable:!0}),n}},ifHelper=assign(function(e,r){return(e&&canReflect.isValueLike(e)?canReflect.getValue(new truthyObservable(e)):!!helpersCore.resolve(e))?r.fn(r.scope||this):r.inverse(r.scope||this)},{requiresOptionsArgument:!0,isLiveBound:!0}),isHelper=helpersCore._makeLogicHelper("eq",function(e){for(var r,n,t=0;t<e.length;t++){if(r="function"==typeof(r=helpersCore.resolve(e[t]))?r():r,t>0&&r!==n)return!1;n=r}return!0}),andHelper=helpersCore._makeLogicHelper("and",function(e){if(0===e.length)return!1;for(var r,n=0,t=e.length;n<t;n++)if(!(r=helpersCore.resolve(e[n])))return r;return r}),orHelper=helpersCore._makeLogicHelper("or",function(e){if(0===e.length)return!1;for(var r,n=0,t=e.length;n<t;n++)if(r=helpersCore.resolve(e[n]))return r;return r}),switchHelper=function(e,r){helpersCore.resolve(e);var n=!1,t=function(r,t){if(!n&&helpersCore.resolve(e)===helpersCore.resolve(r))return n=!0,t.fn(t.scope.peek("this")||this)};t.requiresOptionsArgument=!0;var a=function(e){if(!n)return!e||e.scope.peek("this")};a.requiresOptionsArgument=!0,canReflect.assignSymbols(a,{"can.isValueLike":!0,"can.isFunctionLike":!1,"can.getValue":function(){return this(r)}});var o=r.scope.add({case:t,default:a},{notContext:!0});return r.fn(o,r)};switchHelper.requiresOptionsArgument=!0;var domDataHelper=function(e,r){var n=(helpersCore.looksLikeOptions(r)?r.context:r)||this;return function(r){canDomData.set(r,e,n)}},joinBaseHelper=function(e){var r=[].slice.call(arguments),n=r.pop(),t=r.map(function(e){var r=helpersCore.resolve(e);return"function"==typeof r?r():r}).join(""),a=canReflect.getKeyValue(n.scope.templateContext.helpers,"module"),o=a?a.uri:void 0;if("."===t[0]&&o)return canJoinUris(o,t);var s="undefined"!=typeof System&&(System.renderingBaseURL||System.baseURL)||baseUrl();return"/"!==t[0]&&"/"!==s[s.length-1]&&(s+="/"),canJoinUris(s,t)};joinBaseHelper.requiresOptionsArgument=!0;var eachHelper=function(e){var r,n,t=[].slice.call(arguments).pop(),a=t.exprData.hashExprs,o=helpersCore.bindAndRead(e);if(canReflect.size(a)>0&&(r={},canReflect.eachKey(a,function(e,n){r[e.key]=n})),(canReflect.isObservableLike(o)&&canReflect.isListLike(o)||canReflect.isListLike(o)&&canReflect.isValueLike(e))&&!t.stringOnly)return t.metadata.rendered=!0,function(n){var a=[n];a.expression="live.list",nodeLists.register(a,null,t.nodeList,!0),nodeLists.update(t.nodeList,[n]);canViewLive.list(n,e,function(e,n,a){var o={};return canReflect.size(r)>0&&(r.value&&(o[r.value]=e),r.index&&(o[r.index]=n)),t.fn(t.scope.add(o,{notContext:!0}).add({index:n},{special:!0}).add(e),t.options,a)},t.context,n.parentNode,a,function(e,r){return t.inverse(t.scope.add(e),t.options,r)})};var s,i=helpersCore.resolve(e);return i&&canReflect.isListLike(i)?(s=utils.getItemsFragContent(i,t,t.scope),t.stringOnly?s.join(""):s):canReflect.isObservableLike(i)&&canReflect.isMapLike(i)||i instanceof Object?(s=[],canReflect.each(i,function(e,a){var o=new KeyObservable(i,a);n={},canReflect.size(r)>0&&(r.value&&(n[r.value]=o),r.key&&(n[r.key]=a)),s.push(t.fn(t.scope.add(n,{notContext:!0}).add({key:a},{special:!0}).add(o)))}),t.stringOnly?s.join(""):s):void 0};eachHelper.isLiveBound=!0,eachHelper.requiresOptionsArgument=!0,eachHelper.ignoreArgLookup=function(e){return 1===e};var indexHelper=assign(function(e,r){r||(r=e,e=0);var n=r.scope.peek("scope.index");return""+(("function"==typeof n?n():n)+e)},{requiresOptionsArgument:!0}),withHelper=function(e,r){var n=e;return r?(e=helpersCore.resolve(e),r.hash&&canReflect.size(r.hash)>0&&(n=r.scope.add(r.hash,{notContext:!0}).add(n))):(r=e,e=!0,n=r.hash),r.fn(n||{})};withHelper.requiresOptionsArgument=!0;var dataHelper=function(e,r){var n=(helpersCore.looksLikeOptions(r)?r.context:r)||this;return function(r){"production"!==process$1.env.NODE_ENV&&dev.warn("The {{data}} helper has been deprecated; use {{domData}} instead: https://canjs.com/doc/can-stache.helpers.domData.html"),setData.set.call(r,e,n)}},unlessHelper=function(e,r){return ifHelper.apply(this,[e,assign(assign({},r),{fn:r.inverse,inverse:r.fn})])};unlessHelper.requiresOptionsArgument=!0,unlessHelper.isLiveBound=!0;builtInHelpers={debugger:debuggerHelper$1,each:eachHelper,eachOf:eachHelper,index:indexHelper,if:ifHelper,is:isHelper,eq:isHelper,unless:unlessHelper,with:withHelper,console:console,data:dataHelper,domData:domDataHelper,switch:switchHelper,joinBase:joinBaseHelper,and:andHelper,or:orHelper};helpersCore.addBuiltInHelpers();var core=helpersCore;export{canViewLive as a,core as b};
//# sourceMappingURL=chunk-3bb7ab49.js.map
