{"version":3,"file":"can-validate-validatejs.js","sources":["../node_modules/can-validate-validatejs/can-validate-validatejs.js"],"sourcesContent":["\"use strict\";\nvar canReflect = require(\"can-reflect\");\nvar validatejs = require(\"validate.js\");\n\nvar makeValidator = function(constraints) {\n\treturn function(value) {\n\t\t// Returns an array or undefined\n\t\treturn validatejs.single(value, constraints);\n\t};\n};\n\nmakeValidator.many = function(constraints) {\n\treturn function(values) {\n\t\tvar rawErrors = validatejs(values, constraints, {\n\t\t\tformat: \"detailed\",\n\t\t\tfullMessages: false\n\t\t});\n\t\tvar errors;\n\n\t\tif (rawErrors) {\n\t\t\terrors = [];\n\t\t\tcanReflect.eachIndex(rawErrors, function(error) {\n\t\t\t\terrors.push({\n\t\t\t\t\tmessage: error.options.message || error.error,\n\t\t\t\t\trelated: [error.attribute]\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\treturn errors;\n\t};\n};\n\nmakeValidator.validatejs = validatejs;\n\nmodule.exports = makeValidator;\n"],"names":["makeValidator","constraints","value","validatejs","single","many","values","errors","rawErrors","format","fullMessages","canReflect","eachIndex","error","push","message","options","related","attribute"],"mappings":"0QAIA,IAAIA,cAAgB,SAASC,GAC5B,OAAO,SAASC,GAEf,OAAOC,WAAWC,OAAOF,EAAOD,KAIlCD,cAAcK,KAAO,SAASJ,GAC7B,OAAO,SAASK,GACf,IAIIC,EAJAC,EAAYL,WAAWG,EAAQL,EAAa,CAC/CQ,OAAQ,WACRC,cAAc,IAaf,OATIF,IACHD,EAAS,GACTI,WAAWC,UAAUJ,EAAW,SAASK,GACxCN,EAAOO,KAAK,CACXC,QAASF,EAAMG,QAAQD,SAAWF,EAAMA,MACxCI,QAAS,CAACJ,EAAMK,gBAIZX,IAITP,cAAcG,WAAaA,WAE3B,0BAAiBH"}