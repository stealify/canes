import{a as commonjsGlobal,b as commonjsRequire,c as unwrapExports,d as createCommonjsModule}from"./chunk-eae5b219.mjs";import"./chunk-805ffcb4.mjs";import{a as canSymbol}from"./chunk-b37d91a1.mjs";import{a as namespace}from"./chunk-3b4c7b38.mjs";var canObservationRecorder=createCommonjsModule(function(e){var n=[],r=canSymbol.for("can.addParent"),a={stack:n,start:function(){var e={keyDependencies:new Map,valueDependencies:new Set,childDependencies:new Set,traps:null,ignore:0};return n.push(e),e},stop:function(){return n.pop()},add:function(e,r){var a=n[n.length-1];if(a&&0===a.ignore)if(a.traps)a.traps.push([e,r]);else if(void 0===r)a.valueDependencies.add(e);else{var t=a.keyDependencies.get(e);t||(t=new Set,a.keyDependencies.set(e,t)),t.add(r)}},addMany:function(e){var r=n[n.length-1];if(r)if(r.traps)r.traps.push.apply(r.traps,e);else for(var a=0,t=e.length;a<t;a++)this.add(e[a][0],e[a][1])},created:function(e){var a=n[n.length-1];a&&(a.childDependencies.add(e),e[r]&&e[r](a))},ignore:function(e){return function(){if(n.length){var r=n[n.length-1];r.ignore++;var a=e.apply(this,arguments);return r.ignore--,a}return e.apply(this,arguments)}},isRecording:function(){var e=n.length,r=e&&n[e-1];return r&&0===r.ignore&&r},makeDependenciesRecord:function(){return{traps:null,keyDependencies:new Map,valueDependencies:new Set,ignore:0}},makeDependenciesRecorder:function(){return a.makeDependenciesRecord()},trap:function(){if(n.length){var e=n[n.length-1],r=e.traps,a=e.traps=[];return function(){return e.traps=r,a}}return function(){return[]}},trapsCount:function(){return n.length?n[n.length-1].traps.length:0}};if(namespace.ObservationRecorder)throw new Error("You can't have two versions of can-observation-recorder, check your dependencies");e.exports=namespace.ObservationRecorder=a});export{canObservationRecorder as a,canObservationRecorder as b};
//# sourceMappingURL=chunk-fa6b878a.js.map
