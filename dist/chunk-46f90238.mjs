import"./chunk-5f1245ff.mjs";import{b as canKeyUtils}from"./chunk-b09dcf0e.mjs";import{a as canReflect}from"./chunk-7e0220de.mjs";var walk=function(e,a,t){var n,r,l,c,f=canKeyUtils.parts(a),i=f.length;if(i)for(n=e,r=0;r<i;r++){var s=t({parent:l=n,key:c=f[r],value:n=canKeyUtils.isContainer(l)&&canReflect.getKeyValue(l,c)},r);void 0!==s&&(n=s)}};function deleteKeys(e){for(var a=e.length-1;a>=0;a--){var t=e[a];if(delete t.parent[t.key],0!==canReflect.size(t.parent))return}}var transform=function(e,a){var t=canReflect.serialize(e);return canReflect.eachKey(a,function(e,a){var n=canKeyUtils.parts(a),r=canKeyUtils.parts(e),l=[];walk(t,n,function(e){l.push(e)});var c=l[l.length-1].value;void 0!==c&&(walk(t,r,function(e,a){if(a<r.length-1&&!e.value)return e.parent[e.key]={};a===r.length-1&&(e.parent[e.key]=c)}),deleteKeys(l))}),t};export{transform as a,walk as b};
//# sourceMappingURL=chunk-46f90238.js.map
