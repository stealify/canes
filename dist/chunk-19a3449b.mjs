import{a as diffObject}from"./chunk-59303698.mjs";import{a as diff}from"./chunk-3f0a7243.mjs";import"./chunk-5f1245ff.mjs";import{a as canReflect}from"./chunk-7e0220de.mjs";function shouldCheckSet(e,t,n){return"set"===e.type&&t&&n&&"object"==typeof t&&"object"==typeof n}function makeIdentityFromMapSchema(e){if(e.identity&&e.identity.length)return function(t,n){return canReflect.getIdentity(t,e)===canReflect.getIdentity(n,e)}}function makeDiffListIdentityComparison(e,t,n,f){var i,a,c=canReflect.getSchema(e),r=canReflect.size(e);return null!=c&&null!=c.values&&(i=canReflect.getSchema(c.values)),null==i&&r>0&&(i=canReflect.getSchema(canReflect.getKeyValue(e,0))),i&&(a=makeIdentityFromMapSchema(i)),function(e,t,i){if(canReflect.isPrimitive(e))return e===t;if(canReflect.isPrimitive(t))return e===t;if(a&&a(e,t)){var c=diffDeep(e,t,n?n+"."+i:""+i);return f.push.apply(f,c),!0}return 0===diffDeep(e,t).length}}function diffDeep(e,t,n){if(e&&canReflect.isMoreListLikeThanMapLike(e)){var f=[],i=makeDiffListIdentityComparison(e,t,n,f),a=diff(e,t,i).map(function(e){return n&&(e.key=n),e});return f.concat(a)}n=n?n+".":"";var c=diffObject(e,t),r=[];return c.forEach(function(f){var i=f.key;f.key=n+f.key;var a=e&&canReflect.getKeyValue(e,i),c=t&&canReflect.getKeyValue(t,i);if(shouldCheckSet(f,a,c)){var u=diffDeep(a,c,f.key);r.push.apply(r,u)}else r.push(f)}),r}var deep=diffDeep;export{deep as a};
//# sourceMappingURL=chunk-19a3449b.js.map
