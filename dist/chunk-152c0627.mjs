import"./chunk-805ffcb4.mjs";import{a as domMutateNode}from"./chunk-d056b3d5.mjs";import{a as namespace}from"./chunk-3b4c7b38.mjs";var nodeMap=new Map,splice=[].splice,push=[].push,itemsInChildListTree=function(e){for(var n=0,t=0,r=e.length;t<r;t++){var s=e[t];s.nodeType?n++:n+=itemsInChildListTree(s)}return n},replacementMap=function(e){for(var n=new Map,t=0,r=e.length;t<r;t++){var s=nodeLists.first(e[t]);n.set(s,e[t])}return n},addUnfoundAsDeepChildren=function(e,n){n.forEach(function(n){e.newDeepChildren.push(n)})},nodeLists={update:function(e,n,t){t||(t=nodeLists.unregisterChildren(e));for(var r=[],s=0,i=r.length=n.length;s<i;s++)r[s]=n[s];n=r;var a=e.length;return splice.apply(e,[0,a].concat(n)),e.replacements?(nodeLists.nestReplacements(e),e.deepChildren=e.newDeepChildren,e.newDeepChildren=[]):nodeLists.nestList(e),t},nestReplacements:function(e){for(var n=0,t=replacementMap(e.replacements),r=e.replacements.length;n<e.length&&r;){var s=e[n],i=t.get(s);i&&(t.delete(s),e.splice(n,itemsInChildListTree(i),i),r--),n++}r&&addUnfoundAsDeepChildren(e,t),e.replacements=[]},nestList:function(e){for(var n=0;n<e.length;){var t=e[n],r=nodeMap.get(t);r?r!==e&&e.splice(n,itemsInChildListTree(r),r):nodeMap.set(t,e),n++}},last:function(e){var n=e[e.length-1];return n.nodeType?n:nodeLists.last(n)},first:function(e){var n=e[0];return n.nodeType?n:nodeLists.first(n)},flatten:function(e){for(var n=[],t=0;t<e.length;t++){var r=e[t];r.nodeType?n.push(r):n.push.apply(n,nodeLists.flatten(r))}return n},register:function(e,n,t,r){return e.unregistered=n,e.parentList=t,e.nesting=t&&void 0!==t.nesting?t.nesting+1:0,t?(e.deepChildren=[],e.newDeepChildren=[],e.replacements=[],!0!==t&&(r?t.replacements.push(e):t.newDeepChildren.push(e))):nodeLists.nestList(e),e},unregisterChildren:function(e){for(var n=[],t=0;t<e.length;t++){var r=e[t];r.nodeType?(e.replacements||nodeMap.delete(r),n.push(r)):push.apply(n,nodeLists.unregister(r,!0))}var s=e.deepChildren;if(s)for(var i=0;i<s.length;i++)nodeLists.unregister(s[i],!0);return n},unregister:function(e,n){var t=nodeLists.unregisterChildren(e,!0);if(e.isUnregistered=!0,e.unregistered){var r=e.unregistered;if(e.replacements=e.unregistered=null,!n){var s=e.parentList&&e.parentList.deepChildren;if(s){var i=s.indexOf(e);-1!==i&&s.splice(i,1)}}r()}return t},after:function(e,n){var t=e[e.length-1];t.nextSibling?domMutateNode.insertBefore.call(t.parentNode,n,t.nextSibling):domMutateNode.appendChild.call(t.parentNode,n)},replace:function(e,n){var t,r=e[0].parentNode;"SELECT"===r.nodeName.toUpperCase()&&r.selectedIndex>=0&&(t=r.value),1===e.length?domMutateNode.replaceChild.call(r,n,e[0]):(nodeLists.after(e,n),nodeLists.remove(e)),void 0!==t&&(r.value=t)},remove:function(e){for(var n=e[0]&&e[0].parentNode,t=0;t<e.length;t++)domMutateNode.removeChild.call(n,e[t])},nodeMap:nodeMap},canViewNodelist=namespace.nodeLists=nodeLists;export{canViewNodelist as a,canViewNodelist as b};
//# sourceMappingURL=chunk-152c0627.js.map
