{"version":3,"file":"chunk-ee0ed326.js","sources":["../node_modules/can-fragment/can-fragment.js"],"sourcesContent":["'use strict';\n\nvar getDocument = require('can-globals/document/document');\nvar namespace = require(\"can-namespace\");\nvar canReflect = require(\"can-reflect\");\nvar childNodes = require(\"can-child-nodes\");\nvar canSymbol = require(\"can-symbol\");\n/**\n@module {function} can-fragment\n@parent can-dom-utilities\n@collection can-infrastructure\n\nConvert a String, HTMLElement, documentFragment, contentArray, or object with a `can.toDOM` symbol into a documentFragment.\n\n@signature `fragment(item, doc)`\n\n@param {String|HTMLElement|documentFragment|contentArray} item\n@param {Document} doc   an optional DOM document in which to build the fragment\n\n@return {documentFragment}\n\n@body\n\n## Use\n\nContentArrays can be used to combine multiple HTMLElements into a single document fragment.  For example:\n\n    var fragment = require(\"can-fragment\");\n\n    var p = document.createElement(\"p\");\n    p.innerHTML = \"Welcome to <b>CanJS</b>\";\n    var contentArray = [\"<h1>Hi There</h1>\", p];\n    var fragment = fragment( contentArray )\n\n`fragment` will be a documentFragment with the following elements:\n\n    <h1>Hi There</h1>\n    <p>Welcome to <b>CanJS</b></p>\n\n */\n\n\n// fragment.js\n// ---------\n// _DOM Fragment support._\nvar fragmentRE = /^\\s*<(\\w+)[^>]*>/,\n\ttoString = {}.toString,\n\ttoDOMSymbol = canSymbol.for(\"can.toDOM\");\n\nfunction makeFragment(html, name, doc) {\n\tif (name === undefined) {\n\t\tname = fragmentRE.test(html) && RegExp.$1;\n\t}\n\tif (html && toString.call(html.replace) === \"[object Function]\") {\n\t\t// Fix \"XHTML\"-style tags in all browsers\n\t\thtml = html.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/gi, '<$1></$2>');\n\t}\n\tvar container = doc.createElement('div'),\n\t\ttemp = doc.createElement('div');\n\t// IE's parser will strip any `<tr><td>` tags when `innerHTML`\n\t// is called on a `tbody`. To get around this, we construct a\n\t// valid table with a `tbody` that has the `innerHTML` we want.\n\t// Then the container is the `firstChild` of the `tbody`.\n\t// [source](http://www.ericvasilik.com/2006/07/code-karma.html).\n\tif (name === 'tbody' || name === 'tfoot' || name === 'thead' || name === 'colgroup') {\n\t\ttemp.innerHTML = '<table>' + html + '</table>';\n\t\tcontainer = temp.firstChild.nodeType === 3 ? temp.lastChild : temp.firstChild;\n\t} else if (name === 'col') {\n\t\ttemp.innerHTML = '<table><colgroup>' + html + '</colgroup></table>';\n\t\tcontainer = temp.firstChild.nodeType === 3 ? temp.lastChild : temp.firstChild.firstChild;\n\t} else if (name === 'tr') {\n\t\ttemp.innerHTML = '<table><tbody>' + html + '</tbody></table>';\n\t\tcontainer = temp.firstChild.nodeType === 3 ? temp.lastChild : temp.firstChild.firstChild;\n\t} else if (name === 'td' || name === 'th') {\n\t\ttemp.innerHTML = '<table><tbody><tr>' + html + '</tr></tbody></table>';\n\t\tcontainer = temp.firstChild.nodeType === 3 ? temp.lastChild : temp.firstChild.firstChild.firstChild;\n\t} else if (name === 'option') {\n\t\ttemp.innerHTML = '<select>' + html + '</select>';\n\t\tcontainer = temp.firstChild.nodeType === 3 ? temp.lastChild : temp.firstChild;\n\t} else {\n\t\tcontainer.innerHTML = '' + html;\n\t}\n\n\treturn [].slice.call(childNodes(container));\n}\n\nfunction fragment(html, doc) {\n\tif (html && html.nodeType === 11) {\n\t\treturn html;\n\t}\n\tif (!doc) {\n\t\tdoc = getDocument();\n\t} else if (doc.length) {\n\t\tdoc = doc[0];\n\t}\n\n\tvar parts = makeFragment(html, undefined, doc),\n\t\tfrag = (doc || document).createDocumentFragment();\n\tfor (var i = 0, length = parts.length; i < length; i++) {\n\t\tfrag.appendChild(parts[i]);\n\t}\n\treturn frag;\n}\n\nvar makeFrag = function(item, doc) {\n\tvar document = doc || getDocument();\n\tvar frag;\n\tif (!item || typeof item === \"string\") {\n\t\tfrag = fragment(item == null ? \"\" : \"\" + item, document);\n\t\t// If we have an empty frag...\n\t} else if(typeof item[toDOMSymbol] === \"function\") {\n\t\treturn makeFrag(item[toDOMSymbol]());\n\t}\n\telse if (item.nodeType === 11) {\n\t\treturn item;\n\t} else if (typeof item.nodeType === \"number\") {\n\t\tfrag = document.createDocumentFragment();\n\t\tfrag.appendChild(item);\n\t\treturn frag;\n\t} else if (canReflect.isListLike(item)) {\n\t\tfrag = document.createDocumentFragment();\n\t\tcanReflect.eachIndex(item, function(item) {\n\t\t\tfrag.appendChild(makeFrag(item));\n\t\t});\n\t} else {\n\t\tfrag = fragment(\"\" + item, document);\n\t}\n    if (!childNodes(frag).length) {\n        frag.appendChild(document.createTextNode(''));\n    }\n    return frag;\n};\n\nmodule.exports = namespace.fragment = namespace.frag = makeFrag;\n"],"names":["fragmentRE","toString","toDOMSymbol","canSymbol","for","makeFragment","html","name","doc","undefined","test","RegExp","$1","call","replace","container","createElement","temp","innerHTML","firstChild","nodeType","lastChild","slice","childNodes","fragment","length","getDocument","parts","frag","document","createDocumentFragment","i","appendChild","makeFrag","item","canReflect","isListLike","eachIndex","createTextNode","namespace"],"mappings":"+SA6CA,IAAIA,WAAa,mBAChBC,SAAW,GAAGA,SACdC,YAAcC,UAAUC,IAAI,aAE7B,SAASC,aAAaC,EAAMC,EAAMC,QACpBC,IAATF,IACHA,EAAOP,WAAWU,KAAKJ,IAASK,OAAOC,IAEpCN,GAAwC,sBAAhCL,SAASY,KAAKP,EAAKQ,WAE9BR,EAAOA,EAAKQ,QAAQ,0EAA2E,cAEhG,IAAIC,EAAYP,EAAIQ,cAAc,OACjCC,EAAOT,EAAIQ,cAAc,OAyB1B,MAnBa,UAATT,GAA6B,UAATA,GAA6B,UAATA,GAA6B,aAATA,GAC/DU,EAAKC,UAAY,UAAYZ,EAAO,WACpCS,EAAyC,IAA7BE,EAAKE,WAAWC,SAAiBH,EAAKI,UAAYJ,EAAKE,YAChD,QAATZ,GACVU,EAAKC,UAAY,oBAAsBZ,EAAO,sBAC9CS,EAAyC,IAA7BE,EAAKE,WAAWC,SAAiBH,EAAKI,UAAYJ,EAAKE,WAAWA,YAC3D,OAATZ,GACVU,EAAKC,UAAY,iBAAmBZ,EAAO,mBAC3CS,EAAyC,IAA7BE,EAAKE,WAAWC,SAAiBH,EAAKI,UAAYJ,EAAKE,WAAWA,YAC3D,OAATZ,GAA0B,OAATA,GAC3BU,EAAKC,UAAY,qBAAuBZ,EAAO,wBAC/CS,EAAyC,IAA7BE,EAAKE,WAAWC,SAAiBH,EAAKI,UAAYJ,EAAKE,WAAWA,WAAWA,YACtE,WAATZ,GACVU,EAAKC,UAAY,WAAaZ,EAAO,YACrCS,EAAyC,IAA7BE,EAAKE,WAAWC,SAAiBH,EAAKI,UAAYJ,EAAKE,YAEnEJ,EAAUG,UAAY,GAAKZ,EAGrB,GAAGgB,MAAMT,KAAKU,cAAWR,IAGjC,SAASS,SAASlB,EAAME,GACvB,GAAIF,GAA0B,KAAlBA,EAAKc,SAChB,OAAOd,EAEHE,EAEMA,EAAIiB,SACdjB,EAAMA,EAAI,IAFVA,EAAMkB,cAOP,IAFA,IAAIC,EAAQtB,aAAaC,OAAMG,EAAWD,GACzCoB,GAAQpB,GAAOqB,UAAUC,yBACjBC,EAAI,EAAGN,EAASE,EAAMF,OAAQM,EAAIN,EAAQM,IAClDH,EAAKI,YAAYL,EAAMI,IAExB,OAAOH,EAGR,IAAIK,SAAW,SAASC,EAAM1B,GAC7B,IACIoB,EADAC,EAAWrB,GAAOkB,cAEtB,GAAKQ,GAAwB,iBAATA,EAGb,CAAA,GAAgC,mBAAtBA,EAAKhC,aACrB,OAAO+B,SAASC,EAAKhC,gBAEjB,GAAsB,KAAlBgC,EAAKd,SACb,OAAOc,EACD,GAA6B,iBAAlBA,EAAKd,SAGtB,OAFAQ,EAAOC,EAASC,0BACXE,YAAYE,GACVN,EACGO,WAAWC,WAAWF,IAChCN,EAAOC,EAASC,yBAChBK,WAAWE,UAAUH,EAAM,SAASA,GACnCN,EAAKI,YAAYC,SAASC,OAG3BN,EAAOJ,SAAS,GAAKU,EAAML,QAjB3BD,EAAOJ,SAAiB,MAARU,EAAe,GAAK,GAAKA,EAAML,GAsB7C,OAHKN,cAAWK,GAAMH,QAClBG,EAAKI,YAAYH,EAASS,eAAe,KAEtCV,eAGMW,UAAUf,SAAWe,UAAUX,KAAOK"}