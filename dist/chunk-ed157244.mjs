import{a as getGlobal}from"./chunk-cc1f8896.mjs";import"./chunk-5f1245ff.mjs";import"./chunk-805ffcb4.mjs";import"./chunk-17b31772.mjs";import"./chunk-27026eab.mjs";import{a as canReflect}from"./chunk-7e0220de.mjs";import{a as namespace}from"./chunk-3b4c7b38.mjs";import{a as parseURI}from"./chunk-ac75a622.mjs";import{a as param}from"./chunk-27ff5bb0.mjs";var xhrs=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")}],_xhrf=null,originUrl=parseURI(getGlobal().location.href),globalSettings={},makeXhr=function(){if(null!=_xhrf)return _xhrf();for(var e=0,t=xhrs.length;e<t;e++)try{var a=xhrs[e],n=a();if(null!=n)return _xhrf=a,n}catch(e){continue}return function(){}},contentTypes={json:"application/json",form:"application/x-www-form-urlencoded"},_xhrResp=function(e,t){try{var a=t.dataType||e.getResponseHeader("Content-Type").split(";")[0];if(!a||!e.responseText&&!e.responseXML)return e;switch(a){case"text/xml":case"xml":return e.responseXML;case"text/json":case"application/json":case"text/javascript":case"application/javascript":case"application/x-javascript":case"json":return e.responseText&&JSON.parse(e.responseText);default:return e.responseText}}catch(t){return e}};function ajax(e){var t,a,n,r=makeXhr(),o=0,s={},c=new Promise(function(e,t){s.resolve=e,s.reject=t});if(c.abort=function(){r.abort()},(e=[{userAgent:"XMLHttpRequest",lang:"en",type:"GET",data:null,dataType:"json"},globalSettings,e].reduce(function(e,t,a){return canReflect.assignDeep(e,t)})).contentType||(e.contentType="GET"===e.type.toUpperCase()?contentTypes.form:contentTypes.json),null==e.crossDomain)try{n=parseURI(e.url),e.crossDomain=!!(n.protocol&&n.protocol!==originUrl.protocol||n.host&&n.host!==originUrl.host)}catch(t){e.crossDomain=!0}e.timeout&&(t=setTimeout(function(){r.abort(),e.timeoutFn&&e.timeoutFn(e.url)},e.timeout)),r.onreadystatechange=function(){try{4===r.readyState?(t&&clearTimeout(t),r.status<300?e.success&&e.success(_xhrResp(r,e)):e.error&&e.error(r,r.status,r.statusText),e.complete&&e.complete(r,r.statusText),r.status>=200&&r.status<300?s.resolve(_xhrResp(r,e)):s.reject(_xhrResp(r,e))):e.progress&&e.progress(++o)}catch(e){s.reject(e)}};var i=e.url,p=null,u=e.type.toUpperCase(),l=e.contentType===contentTypes.json,f="POST"===u||"PUT"===u;!f&&e.data&&(i+="?"+(l?JSON.stringify(e.data):param(e.data))),r.open(u,i);var m=e.crossDomain&&-1!==["GET","POST","HEAD"].indexOf(u);if(a="undefined"!=typeof FormData&&e.data instanceof FormData,f){p=a?e.data:l&&!m?"object"==typeof e.data?JSON.stringify(e.data):e.data:param(e.data);var x=l&&!m?"application/json":"application/x-www-form-urlencoded";r.setRequestHeader("Content-Type",x)}else r.setRequestHeader("Content-Type",e.contentType);if(m||r.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.beforeSend&&e.beforeSend.call(e,r,e),e.xhrFields)for(var j in e.xhrFields)r[j]=e.xhrFields[j];return r.send(p),c}var canAjax=namespace.ajax=ajax,ajaxSetup=function(e){globalSettings=e||{}};canAjax.ajaxSetup=ajaxSetup;export{canAjax as a,canAjax as b};
//# sourceMappingURL=chunk-ed157244.js.map
